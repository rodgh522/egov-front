{"openapi":"3.0.1","info":{"title":"eGovFrame 5.0 API","description":"API Documentation for eGovFrame 5.0 Application","version":"1.0.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"security":[{"jwtAuth":[]}],"tags":[{"name":"Authentication","description":"Authentication API"},{"name":"User Management","description":"User CRUD API"}],"paths":{"/api/v1/users/{esntlId}":{"get":{"tags":["User Management"],"summary":"Get User","description":"Get user by ESNTL_ID","operationId":"getUser","parameters":[{"name":"esntlId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUserResponse"}}}}}},"put":{"tags":["User Management"],"summary":"Update User","description":"Update user information","operationId":"updateUser","parameters":[{"name":"esntlId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUserResponse"}}}}}},"delete":{"tags":["User Management"],"summary":"Delete User","description":"Soft delete user (set useAt to 'N')","operationId":"deleteUser","parameters":[{"name":"esntlId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/v1/users/{esntlId}/password":{"put":{"tags":["User Management"],"summary":"Change Password","description":"Change user password","operationId":"changePassword","parameters":[{"name":"esntlId","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PasswordChangeRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/v1/menus/{menuNo}":{"get":{"tags":["menu-controller"],"operationId":"getMenu","parameters":[{"name":"menuNo","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MenuResponse"}}}}}},"put":{"tags":["menu-controller"],"operationId":"updateMenu","parameters":[{"name":"menuNo","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuUpdateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MenuResponse"}}}}}},"delete":{"tags":["menu-controller"],"operationId":"deleteMenu","parameters":[{"name":"menuNo","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/v1/users":{"get":{"tags":["User Management"],"summary":"Get Users","description":"Get all users with pagination","operationId":"getUsers","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":0}},{"name":"size","in":"query","required":false,"schema":{"type":"integer","format":"int32","default":20}},{"name":"sortBy","in":"query","required":false,"schema":{"type":"string","default":"createdDate"}},{"name":"sortDir","in":"query","required":false,"schema":{"type":"string","default":"desc"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponsePageUserResponse"}}}}}},"post":{"tags":["User Management"],"summary":"Create User","description":"Create a new user","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUserResponse"}}}}}}},"/api/v1/menus":{"get":{"tags":["menu-controller"],"operationId":"getAllMenus","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MenuResponse"}}}}}}},"post":{"tags":["menu-controller"],"operationId":"createMenu","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MenuCreateRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MenuResponse"}}}}}}},"/api/auth/refresh":{"post":{"tags":["Authentication"],"summary":"Refresh Token","description":"Get new access token using refresh token","operationId":"refreshToken","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTokenResponse"}}}}}}},"/api/auth/logout":{"post":{"tags":["Authentication"],"summary":"Logout","description":"Logout user (client should discard tokens)","operationId":"logout","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/auth/login":{"post":{"tags":["Authentication"],"summary":"Login","description":"Authenticate user and return JWT tokens","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseTokenResponse"}}}}}}},"/api/v1/users/exists/{userId}":{"get":{"tags":["User Management"],"summary":"Check User ID Exists","description":"Check if a user ID already exists","operationId":"existsByUserId","parameters":[{"name":"userId","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseBoolean"}}}}}}},"/api/v1/menus/visible":{"get":{"tags":["menu-controller"],"operationId":"getVisibleMenus","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/MenuResponse"}}}}}}}},"/api/v1/menus/exists/{menuCode}":{"get":{"tags":["menu-controller"],"operationId":"existsByMenuCode","parameters":[{"name":"menuCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"boolean"}}}}}}},"/api/v1/menus/code/{menuCode}":{"get":{"tags":["menu-controller"],"operationId":"getMenuByCode","parameters":[{"name":"menuCode","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/MenuResponse"}}}}}}},"/api/auth/me":{"get":{"tags":["Authentication"],"summary":"Get Current User","description":"Get information about the currently authenticated user","operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseMapStringObject"}}}}}}}},"components":{"schemas":{"UserUpdateRequest":{"type":"object","properties":{"userName":{"maxLength":100,"minLength":0,"type":"string"},"email":{"maxLength":100,"minLength":0,"type":"string"},"phone":{"maxLength":20,"minLength":0,"type":"string"},"groupId":{"type":"string"},"branchId":{"type":"string"},"positionId":{"type":"string"},"managerId":{"type":"string"},"statusCode":{"maxLength":15,"minLength":0,"type":"string"},"useAt":{"pattern":"^[YN]$","type":"string"},"roleIds":{"type":"array","items":{"type":"string"}}}},"ApiResponseUserResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/UserResponse"}}},"RoleInfo":{"type":"object","properties":{"roleId":{"type":"string"},"roleName":{"type":"string"},"isPrimary":{"type":"string"}}},"UserResponse":{"type":"object","properties":{"esntlId":{"type":"string"},"userId":{"type":"string"},"userName":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"groupId":{"type":"string"},"groupName":{"type":"string"},"branchId":{"type":"string"},"branchName":{"type":"string"},"positionId":{"type":"string"},"positionName":{"type":"string"},"managerId":{"type":"string"},"managerName":{"type":"string"},"statusCode":{"type":"string"},"useAt":{"type":"string"},"tenantId":{"type":"string"},"roles":{"type":"array","items":{"$ref":"#/components/schemas/RoleInfo"}},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"}}},"PasswordChangeRequest":{"required":["confirmPassword","currentPassword","newPassword"],"type":"object","properties":{"currentPassword":{"type":"string"},"newPassword":{"maxLength":100,"minLength":8,"type":"string"},"confirmPassword":{"type":"string"}}},"ApiResponseVoid":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object"}}},"MenuUpdateRequest":{"type":"object","properties":{"menuName":{"maxLength":100,"minLength":0,"type":"string"},"menuType":{"maxLength":20,"minLength":0,"pattern":"^(MENU|FOLDER|LINK)$","type":"string"},"menuPath":{"maxLength":255,"minLength":0,"type":"string"},"apiEndpoint":{"maxLength":255,"minLength":0,"type":"string"},"iconName":{"maxLength":50,"minLength":0,"type":"string"},"upperMenuNo":{"type":"integer","format":"int64"},"menuOrder":{"type":"integer","format":"int32"},"menuDescription":{"maxLength":255,"minLength":0,"type":"string"},"isVisible":{"pattern":"^[YN]$","type":"string"},"isActive":{"pattern":"^[YN]$","type":"string"}}},"MenuResponse":{"type":"object","properties":{"menuNo":{"type":"integer","format":"int64"},"menuCode":{"type":"string"},"menuName":{"type":"string"},"menuType":{"type":"string"},"menuPath":{"type":"string"},"apiEndpoint":{"type":"string"},"iconName":{"type":"string"},"upperMenuNo":{"type":"integer","format":"int64"},"menuOrder":{"type":"integer","format":"int32"},"menuDescription":{"type":"string"},"isVisible":{"type":"string"},"isActive":{"type":"string"},"tenantId":{"type":"string"},"createdDate":{"type":"string","format":"date-time"},"updatedDate":{"type":"string","format":"date-time"},"children":{"type":"array","items":{"$ref":"#/components/schemas/MenuResponse"}}}},"UserCreateRequest":{"required":["password","userId","userName"],"type":"object","properties":{"userId":{"maxLength":20,"minLength":4,"pattern":"^[a-zA-Z0-9_]+$","type":"string"},"password":{"maxLength":100,"minLength":8,"type":"string"},"userName":{"maxLength":100,"minLength":0,"type":"string"},"email":{"maxLength":100,"minLength":0,"type":"string"},"phone":{"maxLength":20,"minLength":0,"type":"string"},"groupId":{"type":"string"},"branchId":{"type":"string"},"positionId":{"type":"string"},"managerId":{"type":"string"},"roleIds":{"type":"array","items":{"type":"string"}}}},"MenuCreateRequest":{"required":["menuCode","menuName"],"type":"object","properties":{"menuCode":{"maxLength":50,"minLength":0,"pattern":"^[a-z0-9-]+$","type":"string"},"menuName":{"maxLength":100,"minLength":0,"type":"string"},"menuType":{"maxLength":20,"minLength":0,"pattern":"^(MENU|FOLDER|LINK)$","type":"string"},"menuPath":{"maxLength":255,"minLength":0,"type":"string"},"apiEndpoint":{"maxLength":255,"minLength":0,"type":"string"},"iconName":{"maxLength":50,"minLength":0,"type":"string"},"upperMenuNo":{"type":"integer","format":"int64"},"menuOrder":{"type":"integer","format":"int32"},"menuDescription":{"maxLength":255,"minLength":0,"type":"string"},"isVisible":{"pattern":"^[YN]$","type":"string"},"isActive":{"pattern":"^[YN]$","type":"string"}}},"RefreshTokenRequest":{"required":["refreshToken"],"type":"object","properties":{"refreshToken":{"type":"string"}}},"ApiResponseTokenResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/TokenResponse"}}},"TokenResponse":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"tokenType":{"type":"string"},"accessTokenExpiresIn":{"type":"integer","format":"int64"},"refreshTokenExpiresIn":{"type":"integer","format":"int64"}}},"LoginRequest":{"required":["password","tenantId","userId"],"type":"object","properties":{"userId":{"type":"string"},"password":{"type":"string"},"tenantId":{"type":"string"}}},"ApiResponsePageUserResponse":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"$ref":"#/components/schemas/PageUserResponse"}}},"PageUserResponse":{"type":"object","properties":{"totalPages":{"type":"integer","format":"int32"},"totalElements":{"type":"integer","format":"int64"},"pageable":{"$ref":"#/components/schemas/PageableObject"},"numberOfElements":{"type":"integer","format":"int32"},"first":{"type":"boolean"},"last":{"type":"boolean"},"size":{"type":"integer","format":"int32"},"content":{"type":"array","items":{"$ref":"#/components/schemas/UserResponse"}},"number":{"type":"integer","format":"int32"},"sort":{"$ref":"#/components/schemas/SortObject"},"empty":{"type":"boolean"}}},"PageableObject":{"type":"object","properties":{"pageNumber":{"type":"integer","format":"int32"},"pageSize":{"type":"integer","format":"int32"},"paged":{"type":"boolean"},"unpaged":{"type":"boolean"},"offset":{"type":"integer","format":"int64"},"sort":{"$ref":"#/components/schemas/SortObject"}}},"SortObject":{"type":"object","properties":{"sorted":{"type":"boolean"},"unsorted":{"type":"boolean"},"empty":{"type":"boolean"}}},"ApiResponseBoolean":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"boolean"}}},"ApiResponseMapStringObject":{"type":"object","properties":{"status":{"type":"integer","format":"int32"},"message":{"type":"string"},"data":{"type":"object","additionalProperties":{"type":"object"}}}}},"securitySchemes":{"jwtAuth":{"type":"http","scheme":"bearer","bearerFormat":"JWT"}}}}